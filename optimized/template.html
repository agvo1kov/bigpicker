<!DOCTYPE html>
<html manifest="manifest.appcache" lang="en">
<head>
    <title>Big Color Picker</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,user-scalable=no" />
    <meta name="keywords" content="color picker, html color picker, hex color, html color codes, colour picker, colorpicker, html color, color codes, colour codes, color chart, colour chart, color wheel, hex color, color code, color codes, couleur, colores html, le code couleur, farb code, html farbe, html kodlari, farbe, colore, color palette, color schemes, web colors, hex codes, html color code, paint colors, font color" />
    <meta name="description" content="Color picker with supporting alpha-channel. You can share a chosen color by link. Use a variety color model as HEX, RGB, RGB Percentage, CMYK and HSV." />
    <meta name="author" content="Alexander Volkov">

    <meta property="og:title" content="<?php echo $previewTitle; ?>" />
    <meta property="og:description" content="<?php echo $previewDescription; ?>" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="<?php echo 'https://'.$_SERVER['HTTP_HOST'].$_SERVER['REQUEST_URI']; ?>" />
    <?php if (isset($_GET['hex'])){echo '<meta property="og:image" content="http://'.$_SERVER['HTTP_HOST'].'/png'.$_SERVER['REQUEST_URI'].'" />
    <meta property="og:image:secure_url" content="https://'.$_SERVER['HTTP_HOST'].'/png'.$_SERVER['REQUEST_URI'].'" />
    <meta property="og:image:alt" content="'.$previewDescription.'" />
    ';}?>
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="301" />
    <meta property="og:image:height" content="301" />
    <style>@font-face{font-family:"San Francisco";font-weight:400;src:url("https://applesocial.s3.amazonaws.com/assets/styles/fonts/sanfrancisco/sanfranciscodisplay-regular-webfont.woff")}*{padding:0;margin:0;font-family:"San Francisco",arial,sans-serif}body{transition:all .1s linear 0s;background:white}body.night{transition:all .1s linear 0s;background:black}.palette{display:flex;flex-direction:row;justify-content:flex-start;flex-wrap:wrap;margin:6vh auto 0;width:112vh}.color-picker{order:1;margin-right:1vh;margin-bottom:1vh;width:75vh;height:75vh}.tone-picker{order:2;margin-right:1vh;width:5vh;height:75vh}.alpha-picker{order:4;margin-bottom:5px;width:75vh;height:5vh}.transparent-fill{transition:all .1s linear 0s;fill:#dbdbdb}.night .transparent-fill{transition:all .1s linear 0s;fill:#404040}.color-picker-background,.tone-picker-background,.alpha-picker-background{overflow:visible;width:100%;height:100%;touch-action:none}.tone-picker-cursor-horizontal{display:none}.tone-gradient-horizontal{display:none}.info{order:3;width:30vh;height:75vh;font-family:monospace}.inputs{text-align:center}.inputs>.caption{margin-top:2vh;font-size:2vh;color:#616161}.inputs input{transition:all .1s linear 0s;box-sizing:border-box;width:30vh;height:5vh;padding:.9vh 0 .7vh;text-align:center;font-size:3vh;background-color:#f5f5f5;color:#616161;outline:0;border:0;border-radius:3px}.night .inputs input{transition:all .1s linear 0s;background-color:#242424}.inputs input:focus{background-color:white !important;border:2px solid #00b3ff}.night .inputs input:focus{background-color:black !important;border:2px solid #242424}.inputs input:hover{background-color:#f9f9f9}.night .inputs input:hover{background-color:#1c1c1c}#rgbPercentageInput{margin-top:.8vh}.hex-box{display:flex;flex-direction:row;width:30vh}.hex-input-lattice{width:5vh;font-size:3vh;color:#616161;line-height:5vh}.hex-input-box{width:25vh}#hexInput{width:100%}.color-preview{overflow:hidden;width:30vh;height:20vh;border-radius:3px;background-color:rgba(255,255,255,1)}.night .color-preview{background-color:rgba(0,0,0,1)}.line-break{width:100%}.example-text{order:5;margin-top:1vh;font-size:4vh}.non-select{user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:default}.scale-out-anim{-webkit-transition-property:none !important;-moz-transition-property:none !important;-o-transition-property:none !important;transition-property:none !important;opacity:0 !important}.cursor{opacity:0;touch-action:none}a{color:#00b3ff;font-size:2vh;text-decoration:none}a:hover{color:#36c3ff}a:active{color:#0094d4}.mobile-background{display:none}.mobile-color-model-select{display:none}.night-switcher{position:relative;margin:1vw auto 0;cursor:pointer}.night-switcher:hover>.box{border-color:#919191}.night-switcher:hover .svg-sun{fill:#919191}.night-switcher>.box{transition:all .1s linear 0s;position:relative;overflow:hidden;margin:10px auto 0;border-style:solid;border-color:#616161;border-width:2px;width:50px;height:25px;border-radius:25px;background:#fff}.svg-sun{transition:all .1s linear 0s;position:absolute;top:3px;right:3px;height:21px;fill:#616161}.night .svg-sun{transition:all .1s linear 0s;right:26px;opacity:0;fill:#fff;transform:rotate(-90deg) scale(0.6)}.moon{transition:all .1s linear 0s;position:absolute;top:6px;right:7px;width:13px;height:13px;border-radius:13px;background:#fff;transform:scale(0.5);opacity:0}.night .moon{transition:all .1s linear 0s;opacity:1;right:31px;transform:scale(1.2);background:#616161}.dark-side-of-moon{transition:all .1s linear 0s;position:absolute;top:4px;left:0;width:13px;height:13px;border-radius:100%;background:white;transform:scale(1.2)}.night .dark-side-of-moon{background:black}.night-switcher.night .box{transition:all .1s linear 0s;background:#000;border-color:#616161}.github{display:inline-block;margin-top:4px}@media(orientation:portrait){.night-switcher{display:none}.mobile-background{display:initial;position:fixed;z-index:1;top:0;left:0;right:0;bottom:0}.palette{box-sizing:border-box;position:absolute;z-index:2;top:0;bottom:0;left:0;right:0;width:100vw;padding-left:5vw;margin:0;justify-content:flex-end;flex-direction:column;flex-wrap:nowrap}.tone-gradient-horizontal{display:initial}.tone-gradient-vertical{display:none}.info{order:1;display:flex;align-items:flex-end;width:90vw}.color-preview{display:none}.inputs{display:grid;grid-column-gap:10px;grid-template-columns:150px 1fr;grid-template-rows:auto;grid-template-areas:"select input";align-items:flex-end;justify-content:flex-end;width:100%}.inputs .caption{display:none}.inputs input{grid-area:input;display:none;width:100%;height:50px;border-radius:100vw;background:white}.hex-box,.hex-input-box{width:auto}.inputs input.selected{display:initial}select.mobile-color-model-select{grid-area:select;box-sizing:border-box;display:initial;width:100%;height:50px;padding:0 1fr;outline:0;font-size:4vw;font-weight:bold;color:white;text-align-last:center;text-align:center;border-radius:33vw;background:black;appearance:none;-webkit-appearance:none;-moz-appearance:none}.mobile-color-model-select.percentage{width:40vw}.hex-input-lattice{display:none}.color-picker{order:3;width:90vw;height:90vw;margin:0}.tone-picker{order:2;width:90vw;height:10vw;margin:3vw 0}.alpha-picker{order:4;width:90vw;height:10vw;margin:3vw 0}.tone-picker-cursor-vertical{display:none}.tone-picker-cursor-horizontal{display:initial}.example-text{display:none}.github{display:none}}</style>
</head>
<body>
    <div class="mobile-background">
        <svg width="100%" height="100%">
            <rect shape-rendering="crispEdges" x="0" y="0" width=100% height=100% fill="url(#transparent)"></rect>
            <rect id="mobileBackground" shape-rendering="crispEdges" x="0" y="0" width=100% height=100% fill="#fff"></rect>
        </svg>
    </div>
    <div class="wrapper" id="wrapper">
        <div class="palette">
            <div class="color-picker" id="colorPicker">
                <svg class="color-picker-background">
                    <defs>
                        <linearGradient id="color-gradient-black" x1="0%" x2="0%" y1="0%" y2="100%">
                            <stop offset="0%" stop-color="rgb(0,0,0)" stop-opacity="0"></stop>
                            <stop offset="100%" stop-color="rgb(0,0,0)" stop-opacity="1"></stop>
                        </linearGradient>
                        <linearGradient id="color-gradient-white" x1="0%" x2="100%" y1="0%" y2="0%">
                            <stop offset="0%" stop-color="rgb(255,255,255)" stop-opacity="1"></stop>
                            <stop offset="100%" stop-color="rgb(255,255,255)" stop-opacity="0"></stop>
                        </linearGradient>
                    </defs>
                    <rect shape-rendering="crispEdges" id="toneColor" x="0" y="0" rx="3px" ry="3px" width=100% height=100% fill="#f00" id="picker-color-tone"></rect>
                    <rect shape-rendering="crispEdges" x="0" y="0" rx="3px" ry="3px" width=100% height=100% fill="url(#color-gradient-white)"></rect>
                    <rect shape-rendering="crispEdges" x="0" y="0" rx="3px" ry="3px" width=100% height=100% fill="url(#color-gradient-black)"></rect>
                    <circle id="colorPickerCursor" class="cursor" cx="0" cy="0" r="6" stroke="#404040" stroke-width="2" fill="none"></circle>
                </svg>
            </div>
            <div class="tone-picker" id="tonePicker">
                <svg class="tone-picker-background">
                    <defs>
                        <linearGradient id="tone-gradient-vertical" x1="0%" x2="0%" y1="0%" y2="100%">
                            <stop offset="0%" stop-color="rgb(255,0,0)" stop-opacity="1"></stop>
                            <stop offset="16.6%" stop-color="rgb(255,0,255)" stop-opacity="1"></stop>
                            <stop offset="33.2%" stop-color="rgb(0,0,255)" stop-opacity="1"></stop>
                            <stop offset="49.8%" stop-color="rgb(0,255,255)" stop-opacity="1"></stop>
                            <stop offset="66.4%" stop-color="rgb(0,255,0)" stop-opacity="1"></stop>
                            <stop offset="83%" stop-color="rgb(255,255,0)" stop-opacity="1"></stop>
                            <stop offset="100%" stop-color="rgb(255,0,0)" stop-opacity="1"></stop>
                        </linearGradient>
                    </defs>
                    <defs>
                        <linearGradient id="tone-gradient-horizontal" x1="0%" x2="100%" y1="0%" y2="0%">
                            <stop offset="0%" stop-color="rgb(255,0,0)" stop-opacity="1"></stop>
                            <stop offset="16.6%" stop-color="rgb(255,0,255)" stop-opacity="1"></stop>
                            <stop offset="33.2%" stop-color="rgb(0,0,255)" stop-opacity="1"></stop>
                            <stop offset="49.8%" stop-color="rgb(0,255,255)" stop-opacity="1"></stop>
                            <stop offset="66.4%" stop-color="rgb(0,255,0)" stop-opacity="1"></stop>
                            <stop offset="83%" stop-color="rgb(255,255,0)" stop-opacity="1"></stop>
                            <stop offset="100%" stop-color="rgb(255,0,0)" stop-opacity="1"></stop>
                        </linearGradient>
                    </defs>
                    <rect class="tone-gradient-vertical" shape-rendering="crispEdges" x="0" y="0" rx="3px" ry="3px" width=100% height=100% fill="url(#tone-gradient-vertical)"></rect>
                    <rect class="tone-gradient-horizontal" shape-rendering="crispEdges" x="0" y="0" rx="3px" ry="3px" width=100% height=100% fill="url(#tone-gradient-horizontal)"></rect>
                    <g id="tonePickerCursor" class="cursor">
                        <rect class="tone-picker-cursor-vertical" id="tonePickerCursorVertical" x="-2%" y="-3px" rx="3" ry="3" width="104%" height="6px" fill="none" stroke="#f5f5f5" stroke-width="2"></rect>
                        <rect class="tone-picker-cursor-horizontal" id="tonePickerCursorHorizontal" x="-3px" y="-2%" rx="3" ry="3" width="6px" height="104%" fill="none" stroke="#f5f5f5" stroke-width="2"></rect>
                    </g>
                </svg>
            </div>
            <div class="info" id="info">
                <svg class="color-preview" id="colorPreview">
                    <defs></defs>
                    <rect shape-rendering="crispEdges" x="0" y="0" width=100% height=100% fill="url(#transparent)"></rect>
                    <rect shape-rendering="crispEdges" id="rectColor" x="0" y="0" width=100% height=100% fill="rgb(255, 255, 255)"></rect>
                </svg>

                <div class="inputs">
                    <select class="mobile-color-model-select" id="mobileColorModelSelect">
                        <option>HEX</option>
                        <option>RGB</option>
                        <option>RGB %</option>
                        <option>HSV</option>
                        <option>CMYK</option>
                    </select>
                    <div class="caption">HEX</div>
                    <div class="hex-box">
                        <div class="hex-input-lattice">#</div>
                        <div class="hex-input-box">
                            <input type="text" id="hexInput" class="selected" value="fff" />
                        </div>
                    </div>

                    <div class="caption">RGB</div>
                    <input type="text" id="rgbInput" value="255, 255, 255" />
                    <input type="text" id="rgbPercentageInput" value="1, 1, 1" />

                    <div class="caption">HSV</div>
                    <input type="text" id="hsvInput" value="0, 0, 100" />

                    <div class="caption">CMYK</div>
                    <input type="text" id="cmykInput" value="0, 0, 0, 0" />

                    <div class="caption">
                        Created by Alexander Volkov
                    </div>
                    <a href="https://github.com/agvolkov5/bigpicker" class="github">GitHub</a>
                    <div class="night-switcher" id="night-mode-switcher" onclick="nightModeSwitch()">
                        <div class="box">
                            <svg class="svg-sun" viewBox="0 0 560 560" preserveAspectRatio="none">
                                <path d="M497.78,326.334l-51.395-70.808l51.395-70.804c1.711-2.475,2.088-5.232,1.14-8.276c-0.767-2.859-2.669-4.762-5.712-5.712
                                                l-83.363-27.408V55.959c0-3.044-1.242-5.519-3.721-7.421c-2.85-1.902-5.615-2.284-8.274-1.143l-83.367,26.836L263.092,3.427
                                                C261.378,1.143,258.905,0,255.667,0c-3.234,0-5.708,1.146-7.422,3.427l-51.394,70.805l-83.368-26.836
                                                c-2.662-1.142-5.424-0.76-8.28,1.143c-2.474,1.903-3.711,4.377-3.711,7.421v87.366l-83.367,27.408
                                                c-3.044,0.953-4.947,2.856-5.708,5.712c-0.95,3.044-0.571,5.802,1.143,8.276l51.391,70.804L13.56,326.334
                                                c-1.714,2.282-2.093,5.041-1.143,8.278c0.76,2.847,2.664,4.753,5.708,5.712l83.367,27.407v87.364c0,3.043,1.237,5.521,3.711,7.423
                                                c2.856,1.903,5.618,2.283,8.28,1.144l83.368-26.837l51.394,70.805c1.902,2.471,4.377,3.71,7.422,3.71s5.522-1.239,7.424-3.71
                                                l51.391-70.805l83.371,26.837c2.659,1.143,5.421,0.76,8.271-1.144c2.479-1.902,3.721-4.38,3.721-7.423v-87.364l83.363-27.407
                                                c3.043-0.955,4.945-2.861,5.712-5.712C499.875,331.375,499.491,328.616,497.78,326.334z M407.134,319.339
                                                c-8.661,20.27-20.365,37.78-35.114,52.534c-14.753,14.749-32.261,26.456-52.534,35.118c-20.266,8.657-41.541,12.99-63.811,12.99
                                                c-22.27,0-43.537-4.333-63.81-12.99c-20.27-8.665-37.782-20.369-52.532-35.118c-14.75-14.754-26.455-32.265-35.117-52.534
                                                c-8.66-20.272-12.99-41.541-12.99-63.813c0-22.27,4.331-43.537,12.99-63.81c8.658-20.27,20.367-37.781,35.117-52.534
                                                c14.753-14.749,32.262-26.457,52.532-35.115c20.27-8.663,41.54-12.99,63.81-12.99c22.266,0,43.545,4.327,63.811,12.99
                                                c20.273,8.658,37.781,20.366,52.534,35.115c14.749,14.753,26.453,32.264,35.114,52.534c8.658,20.273,12.991,41.543,12.991,63.81
                                                C420.125,277.798,415.789,299.066,407.134,319.339z" class="sun">
                                </path>
                            </svg>
                            <div class="moon"></div>
                            <div class="dark-side-of-moon"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="line-break"></div>
            <div class="alpha-picker" id="alphaPicker">
                <svg class="alpha-picker-background">
                    <defs>
                        <linearGradient id="color-gradient" x1="0%" x2="100%" y1="0%" y2="0%">
                            <stop id="transparentGradientColorStart" offset="0%" stop-color="rgb(255,255,255)" stop-opacity="0"></stop>
                            <stop id="transparentGradientColorEnd" offset="100%" stop-color="rgb(255,255,255)" stop-opacity="1"></stop>
                        </linearGradient>
                        <pattern id="transparent" width="20" height="20" patternUnits="userSpaceOnUse">
                            <rect class="transparent-fill" shape-rendering="geometricPrecision" x="0" y="0" width="10" height="10"></rect>
                            <rect class="transparent-fill" shape-rendering="geometricPrecision" x="10" y="10" width="10" height="10"></rect>
                        </pattern>
                    </defs>
                    <rect shape-rendering="crispEdges" x="0" y="0" rx="3px" ry="3px" width=100% height=100% fill="url(#transparent)"></rect>
                    <rect shape-rendering="crispEdges" x="0" y="0" rx="3px" ry="3px" width=100% height=100% fill="url(#color-gradient)"></rect>
                    <rect id="alphaPickerCursor" class="cursor" x="0" y="-2%" rx="3" ry="3" width="6px" height="104%" stroke="#404040" stroke-width="2px" fill="none"></rect>
                </svg>
            </div>
            <div class="line-break"></div>
            <div class="example-text" id="exampleText"></div>
        </div>
    </div>
    <script>
        const palette={currentColor:{percent:{colorCursor:{x:0,y:0},toneCursor:{x:0},alphaCursor:{x:100}},hsv:{h:0,s:0,v:100},rgb:{r:255,g:255,b:255},rgbPercentage:{r:100,g:100,b:100},hex:"fff",cmyk:{c:0,m:0,y:0,k:0},alpha:1},setColorFromPercent:function(t){(t=this.validatePercent(t))&&(t.hasOwnProperty("colorCursor")&&(this.currentColor.percent.colorCursor=t.colorCursor),t.hasOwnProperty("toneCursor")&&(this.currentColor.percent.toneCursor=t.toneCursor),this.currentColor.hsv=this.convertPercentToHsv(t),this.currentColor.rgb=this.convertHsvToRgb(this.currentColor.hsv),this.currentColor.rgbPercentage=this.convertRgbToRgbPercentage(this.currentColor.rgb),this.currentColor.hex=this.convertRgbToHex(this.currentColor.rgb),this.currentColor.cmyk=this.convertRgbToCmyk(this.currentColor.rgb))},setColorFromHsv:function(t){(t=this.validateHsv(t))&&(this.currentColor.hsv=t,this.currentColor.percent=this.convertHsvToPercent(t),this.currentColor.rgb=this.convertHsvToRgb(this.currentColor.hsv),this.currentColor.rgbPercentage=this.convertRgbToRgbPercentage(this.currentColor.rgb),this.currentColor.hex=this.convertRgbToHex(this.currentColor.rgb),this.currentColor.cmyk=this.convertRgbToCmyk(this.currentColor.rgb))},setColorFromRgb:function(t){(t=this.validateRgb(t))&&(this.currentColor.hsv=this.convertRgbToHsv(t),this.currentColor.percent=this.convertHsvToPercent(this.currentColor.hsv),this.currentColor.rgb=t,this.currentColor.rgbPercentage=this.convertRgbToRgbPercentage(this.currentColor.rgb),this.currentColor.hex=this.convertRgbToHex(this.currentColor.rgb),this.currentColor.cmyk=this.convertRgbToCmyk(this.currentColor.rgb))},setColorFromRgbPercentage:function(t){(t=this.validateRgbPercentage(t))&&(this.currentColor.rgbPercentage=t,this.currentColor.rgb=this.convertRgbPercentageToRgb(t),this.currentColor.hex=this.convertRgbToHex(this.currentColor.rgb),this.currentColor.hsv=this.convertRgbToHsv(this.currentColor.rgb),this.currentColor.percent=this.convertHsvToPercent(this.currentColor.hsv),this.currentColor.cmyk=this.convertRgbToCmyk(this.currentColor.rgb))},setColorFromHex:function(t){this.validateHex(t)&&(this.currentColor.hex=t,this.currentColor.rgb=this.convertHexToRgb(t),this.currentColor.rgbPercentage=this.convertRgbToRgbPercentage(this.currentColor.rgb),this.currentColor.hsv=this.convertRgbToHsv(this.currentColor.rgb),this.currentColor.percent=this.convertHsvToPercent(this.currentColor.hsv),this.currentColor.cmyk=this.convertRgbToCmyk(this.currentColor.rgb))},setColorFromCmyk:function(t){(t=this.validateCmyk(t))&&(this.currentColor.cmyk=t,this.currentColor.rgb=this.convertCmykToRgb(t),this.currentColor.rgbPercentage=this.convertRgbToRgbPercentage(this.currentColor.rgb),this.currentColor.hex=this.convertRgbToHex(this.currentColor.rgb),this.currentColor.hsv=this.convertRgbToHsv(this.currentColor.rgb),this.currentColor.percent=this.convertHsvToPercent(this.currentColor.hsv))},setAlpha:function(t){!1!==(t=this.validateAlpha(t))&&(this.currentColor.alpha=t/100,this.currentColor.percent.alphaCursor.x=t)},validatePercent:function(t){if(t.hasOwnProperty("colorCursor")){if(t.colorCursor.hasOwnProperty("x")&&t.colorCursor.hasOwnProperty("y")){if(!this.isInt(t.colorCursor.x)&&!this.isFloat(t.colorCursor.x)||!this.isInt(t.colorCursor.y)&&!this.isFloat(t.colorCursor.y))return!1;t.colorCursor.x<0&&(t.colorCursor.x=0),t.colorCursor.y<0&&(t.colorCursor.y=0),t.colorCursor.x>100&&(t.colorCursor.x=100),t.colorCursor.y>100&&(t.colorCursor.y=100)}}else if(!t.hasOwnProperty("toneCursor"))return!1;if(t.hasOwnProperty("toneCursor")&&t.toneCursor.hasOwnProperty("x")){if(!this.isInt(t.toneCursor.x)&&!this.isFloat(t.toneCursor.x))return!1;if(t.toneCursor.x=parseInt(t.toneCursor.x),isNaN(t.toneCursor.x))return!1;t.toneCursor.x<0&&(t.toneCursor.x=0),t.toneCursor.x>100&&(t.toneCursor.x=100)}return t},validateHsv:function(t){return!!(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v"))&&(t.h=parseInt(t.h),t.s=parseInt(t.s),t.v=parseInt(t.v),!(isNaN(t.h)||isNaN(t.s)||isNaN(t.v))&&(t.h<0&&(t.h=0),t.s<0&&(t.s=0),t.v<=0&&(t.v=0,t.s=0),t.h>=360&&(t.h=0),t.s>100&&(t.g=100),t.v>100&&(t.v=100),t))},validateRgb:function(t){return!!(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b"))&&(t.r=parseInt(t.r),t.g=parseInt(t.g),t.b=parseInt(t.b),!(isNaN(t.r)||isNaN(t.g)||isNaN(t.b))&&(t.r<0&&(t.r=0),t.g<0&&(t.g=0),t.b<0&&(t.b=0),t.r>255&&(t.r=255),t.g>255&&(t.g=255),t.b>255&&(t.b=255),t))},validateRgbPercentage:function(t){return!!(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b"))&&(t.r=parseInt(t.r),t.g=parseInt(t.g),t.b=parseInt(t.b),!(isNaN(t.r)||isNaN(t.g)||isNaN(t.b))&&(t.r<0&&(t.r=0),t.g<0&&(t.g=0),t.b<0&&(t.b=0),t.r>100&&(t.r=100),t.g>100&&(t.g=100),t.b>100&&(t.b=100),t))},validateHex:function(t){return!((t=t.replace(/[^0-9a-fA-F]/g,"").substr(0,6)).length<3)&&t},validateCmyk:function(t){return!!(t.hasOwnProperty("c")&&t.hasOwnProperty("m")&&t.hasOwnProperty("y")&&t.hasOwnProperty("k"))&&(!(!this.isInt(t.c)&&!this.isFloat(t.c)||!this.isInt(t.m)&&!this.isFloat(t.m)||!this.isInt(t.y)&&!this.isFloat(t.y)||!this.isInt(t.k)&&!this.isFloat(t.k))&&(t.c<0&&(t.c=0),t.m<0&&(t.m=0),t.y<0&&(t.y=0),t.k<0&&(t.k=0),t.c>100&&(t.c=100),t.m>100&&(t.m=100),t.y>100&&(t.y=100),t.k>100&&(t.k=100),t))},validateAlpha:function(t){return(!this.isInt(t)||!this.isFloat(t))&&(t<0&&(t=0),t>100&&(t=100),t)},convertPercentToHsv:function(t){t.hasOwnProperty("toneCursor")||(t.toneCursor=this.currentColor.percent.toneCursor),t.hasOwnProperty("colorCursor")||(t.colorCursor=this.currentColor.percent.colorCursor);const e={h:360-3.6*t.toneCursor.x,s:t.colorCursor.x,v:100-t.colorCursor.y};return 360===e.h&&(e.h=0),0===e.v&&(e.s=0),e},convertHsvToPercent:function(t){let e=(360-t.h)/3.6;return 100===e&&(e=0),{toneCursor:{x:e},colorCursor:{x:t.s,y:100-t.v},alphaCursor:this.currentColor.percent.alphaCursor}},convertRgbToHex:function(t){const e={r:Math.round(t.r).toString(16),g:Math.round(t.g).toString(16),b:Math.round(t.b).toString(16)};return e.r.length<2&&(e.r="0"+e.r),e.g.length<2&&(e.g="0"+e.g),e.b.length<2&&(e.b="0"+e.b),e.r[0]===e.r[1]&&e.g[0]===e.g[1]&&e.b[0]===e.b[1]&&(e.r=e.r[0],e.g=e.g[0],e.b=e.b[0]),e.r+e.g+e.b},convertHexToRgb:function(t){return 3===t.length?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)}:6===t.length?{r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)}:void 0},convertRgbToRgbPercentage:function(t){return{r:100*t.r/255,g:100*t.g/255,b:100*t.b/255}},convertRgbPercentageToRgb:function(t){return{r:255*t.r/100,g:255*t.g/100,b:255*t.b/100}},convertRgbToHsv:function(t){const e=t.r/255,r=t.g/255,o=t.b/255,n=Math.max(e,r,o),c=Math.min(e,r,o),a=this.currentColor.hsv;return e===r&&r===o||(n===c?a.h=0:n===e&&r>=o?a.h=(r-o)/(n-c)*60:n===e&&r<o?a.h=(r-o)/(n-c)*60+360:n===r?a.h=(o-e)/(n-c)*60+120:n===o&&(a.h=(e-r)/(n-c)*60+240)),a.s=0===n?0:100*(1-c/n),a.v=100*n,a},convertHsvToRgb:function(t){let e={r:0,g:0,b:0},r=Math.round(t.h),o=Math.round(t.s),n=Math.round(t.v),c=(100-o)*n/100,a=r%60/60*(n-c),l=c+a,s=n-a;switch(Math.floor(r/60)%6){case 0:e={r:n,g:l,b:c};break;case 1:e={r:s,g:n,b:c};break;case 2:e={r:c,g:n,b:l};break;case 3:e={r:c,g:s,b:n};break;case 4:e={r:l,g:c,b:n};break;case 5:e={r:n,g:c,b:s}}return e.r*=2.55,e.g*=2.55,e.b*=2.55,e},convertRgbToCmyk:function(t){let e=parseInt((""+t.r).replace(/\s/g,""),10),r=parseInt((""+t.g).replace(/\s/g,""),10),o=parseInt((""+t.b).replace(/\s/g,""),10);if(0===e&&0===r&&0===o)return{c:0,m:0,y:0,k:100};let n,c=1-e/255,a=1-r/255,l=1-o/255;const s=Math.min(c,Math.min(a,l));c=(c-s)/(1-s),a=(a-s)/(1-s),l=(l-s)/(1-s),n=s;const u={c:0,m:0,y:0,k:0};return u.c=Math.round(100*c),u.m=Math.round(100*a),u.y=Math.round(100*l),u.k=Math.round(100*n),u},convertCmykToRgb:function(t){let e=t.c/100,r=t.m/100,o=t.y/100,n=t.k/100;return e*=1-n,r*=1-n,o*=1-n,{r:Math.round(255*(1-e-n)),g:Math.round(255*(1-r-n)),b:Math.round(255*(1-o-n))}},isInt:function(t){return Number(t)===t&&t%1==0},isFloat:function(t){return Number(t)===t&&t%1!=0}};let touchIntent=!1,wrapper=document.getElementById("wrapper"),colorPicker=document.getElementById("colorPicker"),tonePicker=document.getElementById("tonePicker"),alphaPicker=document.getElementById("alphaPicker"),toneColor=document.getElementById("toneColor"),transparentGradientColorStart=document.getElementById("transparentGradientColorStart"),transparentGradientColorEnd=document.getElementById("transparentGradientColorEnd"),rectColor=document.getElementById("rectColor"),hexInput=document.getElementById("hexInput"),rgbInput=document.getElementById("rgbInput"),rgbPercentageInput=document.getElementById("rgbPercentageInput"),hsvInput=document.getElementById("hsvInput"),cmykInput=document.getElementById("cmykInput"),exampleText=document.getElementById("exampleText"),colorPickerCursor=document.getElementById("colorPickerCursor");tonePickerCursor=document.getElementById("tonePickerCursor"),tonePickerCursorVertical=document.getElementById("tonePickerCursorVertical"),tonePickerCursorHorizontal=document.getElementById("tonePickerCursorHorizontal"),alphaPickerCursor=document.getElementById("alphaPickerCursor"),cursors=document.getElementsByClassName("cursor"),mobileColorModelSelect=document.getElementById("mobileColorModelSelect"),mobileBackground=document.getElementById("mobileBackground");const ui={selectedInput:hexInput,deviceIsSmartphoneOrTablet:!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)),exampleText:"Example text for <b>demonstration</b>",url:window.location.pathname,portraitOrientation:window.matchMedia("(orientation: portrait)").matches};function updateUI(t){rectColor.setAttribute("fill","rgba("+Math.round(palette.currentColor.rgb.r)+", "+Math.round(palette.currentColor.rgb.g)+", "+Math.round(palette.currentColor.rgb.b)+", "+palette.currentColor.alpha+")");const e=palette.convertHsvToRgb({h:palette.currentColor.hsv.h,s:100,v:100});toneColor.setAttribute("fill","rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"),transparentGradientColorStart.setAttribute("stop-color","rgb("+Math.round(palette.currentColor.rgb.r)+", "+Math.round(palette.currentColor.rgb.g)+", "+Math.round(palette.currentColor.rgb.b)+")"),transparentGradientColorEnd.setAttribute("stop-color","rgb("+Math.round(palette.currentColor.rgb.r)+", "+Math.round(palette.currentColor.rgb.g)+", "+Math.round(palette.currentColor.rgb.b)+")");let r=Math.round(palette.currentColor.rgb.r)+", "+Math.round(palette.currentColor.rgb.g)+", "+Math.round(palette.currentColor.rgb.b),o=Math.round(palette.currentColor.rgbPercentage.r)/100+", "+Math.round(palette.currentColor.rgbPercentage.g)/100+", "+Math.round(palette.currentColor.rgbPercentage.b)/100,n=Math.round(palette.currentColor.hsv.h)+", "+Math.round(palette.currentColor.hsv.s)+", "+Math.round(palette.currentColor.hsv.v),c=Math.round(palette.currentColor.cmyk.c)+", "+Math.round(palette.currentColor.cmyk.m)+", "+Math.round(palette.currentColor.cmyk.y)+", "+Math.round(palette.currentColor.cmyk.k);if(1!==palette.currentColor.alpha){const t=Math.round(100*palette.currentColor.alpha)/100;r+=", "+t,o+=", "+t,n+=", "+t,c+=", "+t}hexInput!==t&&(hexInput.value=palette.currentColor.hex),rgbInput!==t&&(rgbInput.value=r),rgbPercentageInput!==t&&(rgbPercentageInput.value=o),hsvInput!==t&&(hsvInput.value=n),cmykInput!==t&&(cmykInput.value=c),exampleText.innerHTML=ui.exampleText,exampleText.style.color="rgba("+Math.round(palette.currentColor.rgb.r)+", "+Math.round(palette.currentColor.rgb.g)+", "+Math.round(palette.currentColor.rgb.b)+", "+palette.currentColor.alpha+")",colorPickerCursor.setAttribute("transform","translate("+palette.currentColor.percent.colorCursor.x*colorPicker.clientWidth/100+", "+palette.currentColor.percent.colorCursor.y*colorPicker.clientHeight/100+")"),palette.currentColor.hsv.s<35&&palette.currentColor.hsv.v>65||palette.currentColor.hsv.v>80&&palette.currentColor.hsv.h>43&&palette.currentColor.hsv.h<190?colorPickerCursor.setAttribute("stroke","#404040"):colorPickerCursor.setAttribute("stroke","#fff"),ui.portraitOrientation?tonePickerCursor.setAttribute("transform","translate("+palette.currentColor.percent.toneCursor.x*tonePicker.clientWidth/100+", 0)"):tonePickerCursor.setAttribute("transform","translate(0, "+palette.currentColor.percent.toneCursor.x*tonePicker.clientHeight/100+")"),palette.currentColor.hsv.h>43&&palette.currentColor.hsv.h<190?(tonePickerCursorVertical.setAttribute("stroke","#404040"),tonePickerCursorHorizontal.setAttribute("stroke","#404040")):(tonePickerCursorVertical.setAttribute("stroke","#f5f5f5"),tonePickerCursorHorizontal.setAttribute("stroke","#f5f5f5")),alphaPickerCursor.setAttribute("transform","translate("+(palette.currentColor.percent.alphaCursor.x*alphaPicker.clientWidth/100-4)+", 0)"),palette.currentColor.hsv.s<50&&palette.currentColor.hsv.v>50||palette.currentColor.percent.alphaCursor.x<50||palette.currentColor.hsv.v>80&&palette.currentColor.hsv.h>43&&palette.currentColor.hsv.h<190?alphaPickerCursor.setAttribute("stroke","#404040"):alphaPickerCursor.setAttribute("stroke","#f5f5f5"),mobileBackground.style.fill="#"+palette.currentColor.hex,mobileBackground.style.opacity=palette.currentColor.alpha}function colorChoosingActionStart(t,e){wrapper.classList.add("non-select"),colorPickerCursor.classList.add("scale-out-anim"),palette.setColorFromPercent({colorCursor:{x:100*(t-colorPicker.offsetLeft)/colorPicker.clientWidth,y:100*(e-colorPicker.offsetTop)/colorPicker.clientHeight}}),touchIntent="color",updateUI()}function toneChoosingActionStart(t){wrapper.classList.add("non-select"),tonePickerCursor.classList.add("scale-out-anim");let e=100*(t.y-tonePicker.offsetTop)/tonePicker.clientHeight;ui.portraitOrientation&&(e=100*(t.x-tonePicker.offsetLeft)/tonePicker.clientWidth),palette.setColorFromPercent({toneCursor:{x:e}}),touchIntent="tone",updateUI()}function alphaChoosingActionStart(t){wrapper.classList.add("non-select"),alphaPickerCursor.classList.add("scale-out-anim"),palette.setAlpha(100*(t-alphaPicker.offsetLeft)/alphaPicker.clientWidth),touchIntent="alpha",updateUI()}function actionsHandler(t){switch(touchIntent){case"color":palette.setColorFromPercent({colorCursor:{x:100*(t.x-colorPicker.offsetLeft)/colorPicker.clientWidth,y:100*(t.y-colorPicker.offsetTop)/colorPicker.clientHeight}}),updateUI();break;case"tone":let e=100*(t.y-tonePicker.offsetTop)/tonePicker.clientHeight;ui.portraitOrientation&&(e=100*(t.x-tonePicker.offsetLeft)/tonePicker.clientWidth),palette.setColorFromPercent({toneCursor:{x:e}}),updateUI();break;case"alpha":palette.setAlpha(100*(t.x-alphaPicker.offsetLeft)/alphaPicker.clientWidth),updateUI()}}function changeUrl(){let t="";1!==palette.currentColor.alpha&&(t="&alpha="+Math.round(100*palette.currentColor.alpha)/100),window.history.pushState(null,"#"+palette.currentColor.hex,ui.url+"?hex="+palette.currentColor.hex+t),localStorage.setItem("currentHue",palette.currentColor.hsv.h),localStorage.setItem("currentHex",palette.currentColor.hex),localStorage.setItem("currentPercent",JSON.stringify(palette.currentColor.percent))}function actionsEnd(){"color"!==touchIntent&&"tone"!==touchIntent&&"alpha"!==touchIntent||(ui.deviceIsSmartphoneOrTablet&&ui.selectedInput.select(),tonePickerCursor.classList.remove("scale-out-anim"),colorPickerCursor.classList.remove("scale-out-anim"),alphaPickerCursor.classList.remove("scale-out-anim"),changeUrl()),touchIntent=!1,wrapper.classList.remove("non-select")}function toSelectInput(t){switch(ui.selectedInput.classList.remove("selected"),ui.selectedInput=t,t.classList.add("selected"),localStorage.setItem("selectedInputId",t.id),mobileColorModelSelect.classList.remove("percentage"),t){case hexInput:mobileColorModelSelect.value="HEX";break;case rgbInput:mobileColorModelSelect.value="RGB";break;case rgbPercentageInput:mobileColorModelSelect.value="RGB %",mobileColorModelSelect.classList.add("percentage");break;case hsvInput:mobileColorModelSelect.value="HSV";break;case cmykInput:mobileColorModelSelect.value="CMYK";break;default:mobileColorModelSelect.value=":)"}}if(colorPicker.addEventListener("mousedown",function(t){colorChoosingActionStart(t.pageX,t.pageY)}),colorPicker.addEventListener("touchstart",function(t){if(t.targetTouches.length>0){const e=t.targetTouches[0];colorChoosingActionStart(e.pageX,e.pageY)}}),tonePicker.addEventListener("mousedown",function(t){toneChoosingActionStart({x:t.pageX,y:t.pageY})}),tonePicker.addEventListener("touchstart",function(t){if(t.targetTouches.length>0){const e=t.targetTouches[0];toneChoosingActionStart({x:e.pageX,y:e.pageY})}}),alphaPicker.addEventListener("mousedown",function(t){alphaChoosingActionStart(t.pageX)}),alphaPicker.addEventListener("touchstart",function(t){if(t.targetTouches.length>0){alphaChoosingActionStart(t.targetTouches[0].pageX)}}),document.addEventListener("touchmove",function(t){if(t.targetTouches.length>0){const e=t.targetTouches[0];actionsHandler({x:e.pageX,y:e.pageY})}}),document.addEventListener("mousemove",function(t){actionsHandler({x:t.pageX,y:t.pageY})}),document.addEventListener("mouseup",function(){actionsEnd()}),document.addEventListener("touchend",function(){actionsEnd()}),hexInput.addEventListener("input",function(){const t=hexInput.value.replace(/[^0-9a-fA-F]/g,"").substr(0,6);palette.setColorFromHex(t),updateUI(hexInput),changeUrl()}),rgbInput.addEventListener("input",function(){let t=rgbInput.value.replace(/,/g," ").replace(/[^0-9. ]/g,"").replace(/ +/g," ").trim();const e={r:palette.currentColor.rgb.r,g:palette.currentColor.rgb.g,b:palette.currentColor.rgb.b},r=t.split(" ");r.length>=3&&(e.r=1*r[0],e.g=1*r[1],e.b=1*r[2],r.length>3?palette.setAlpha(100*r[3]):palette.setAlpha(100),palette.setColorFromRgb(e)),updateUI(rgbInput),changeUrl()}),rgbPercentageInput.addEventListener("input",function(){let t=rgbPercentageInput.value.replace(/,/g," ").replace(/[^0-9. ]/g,"").replace(/ +/g," ").trim();const e={r:palette.currentColor.rgbPercentage.r,g:palette.currentColor.rgbPercentage.g,b:palette.currentColor.rgbPercentage.b},r=t.split(" ");r.length>=3&&(e.r=100*r[0],e.g=100*r[1],e.b=100*r[2],r.length>3?palette.setAlpha(100*r[3]):palette.setAlpha(100),palette.setColorFromRgbPercentage(e)),updateUI(rgbPercentageInput),changeUrl()}),hsvInput.addEventListener("input",function(){const t=hsvInput.value.replace(/,/g," ").replace(/ +/g," ").replace(/ +/g," ").trim(),e={h:palette.currentColor.hsv.h,s:palette.currentColor.hsv.s,v:palette.currentColor.hsv.v},r=t.split(" ");r.length>=3&&(e.h=1*r[0],e.s=1*r[1],e.v=1*r[2],r.length>3?palette.setAlpha(100*r[3]):palette.setAlpha(100),palette.setColorFromHsv(e)),updateUI(hsvInput),changeUrl()}),cmykInput.addEventListener("input",function(){const t=cmykInput.value.replace(/,/g," ").replace(/[^0-9., ]/g,"").replace(/ +/g," ").trim(),e={c:palette.currentColor.hsv.c,m:palette.currentColor.hsv.m,y:palette.currentColor.hsv.y,k:palette.currentColor.hsv.k},r=t.split(" ");r.length>=4&&(e.c=1*r[0],e.m=1*r[1],e.y=1*r[2],e.k=1*r[3],r.length>4?palette.setAlpha(100*r[4]):palette.setAlpha(100),palette.setColorFromCmyk(e)),updateUI(cmykInput),changeUrl()}),null!==localStorage.getItem("selectedInputId")){const t=document.getElementById(localStorage.getItem("selectedInputId"));null!==t&&toSelectInput(t)}function recoveryColorFromUrl(){const t=getJsonFromUrl();return t.hasOwnProperty("hex")&&(palette.setColorFromHex(t.hex),0===palette.currentColor.hsv.s&&(palette.currentColor.hsv.h=localStorage.getItem("currentHue"),palette.setColorFromHsv(palette.currentColor.hsv)),t.hex===localStorage.getItem("currentHex")&&(palette.currentColor.percent=JSON.parse(localStorage.getItem("currentPercent")))),t.hasOwnProperty("alpha")&&palette.setAlpha(100*t.alpha),updateUI(),!0}function getJsonFromUrl(){const t=location.search.substr(1);let e=[];return t.split("&").forEach(function(t){const r=t.split("=");e[r[0]]=decodeURIComponent(r[1])}),e}hsvInput.addEventListener("focus",function(){toSelectInput(this)}),hexInput.addEventListener("focus",function(){toSelectInput(this)}),rgbInput.addEventListener("focus",function(){toSelectInput(this)}),rgbPercentageInput.addEventListener("focus",function(){toSelectInput(this)}),cmykInput.addEventListener("focus",function(){toSelectInput(this)}),recoveryColorFromUrl()&&Array.prototype.filter.call(cursors,function(t){t.style.opacity="1",t.style.transition="all 0.1s linear 0s"}),window.addEventListener("resize",function(){ui.portraitOrientation=window.matchMedia("(orientation: portrait)").matches,updateUI()}),mobileColorModelSelect.addEventListener("input",function(){switch(this.value){case"HEX":toSelectInput(hexInput);break;case"RGB":toSelectInput(rgbInput);break;case"RGB %":toSelectInput(rgbPercentageInput);break;case"HSV":toSelectInput(hsvInput);break;case"CMYK":toSelectInput(cmykInput);break;default:toSelectInput(hexInput)}}),turnNightMode=(()=>{document.body.style.transitionDuration="0s",nightModeSwitcher.classList.add("night"),document.body.classList.add("night"),document.body.style.transitionDuration="0.1s"}),turnLightMode=(()=>{document.body.style.transitionDuration="0s",nightModeSwitcher.classList.remove("night"),document.body.classList.remove("night"),document.body.style.transitionDuration="0.1s"});const nightModeSwitcher=document.getElementById("night-mode-switcher");function nightModeSwitch(){nightModeSwitcher.classList.contains("night")?(turnLightMode(),localStorage.setItem("night-mode","off")):(turnNightMode(),localStorage.setItem("night-mode","on"))}getDefaultTheme=(()=>{const t=localStorage.getItem("journalbook_theme");return null!==t?t:window.matchMedia("(prefers-color-scheme: dark)").matches?(console.log("Dark theme enabled."),"dark"):(console.log("Bright theme enabled."),"")}),autoThemeApply=(()=>{const t=getDefaultTheme();t!==localStorage.getItem("user-desktop-theme")?(localStorage.setItem("user-desktop-theme",t),"dark"===t?(localStorage.setItem("night-mode","on"),turnNightMode()):(localStorage.setItem("night-mode","off"),turnLightMode())):"on"===localStorage.getItem("night-mode")&&(localStorage.setItem("night-mode","on"),turnNightMode())}),autoThemeApply(),window.onfocus=autoThemeApply;
    </script>
    <script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym");ym(52246759,"init",{clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/52246759" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
</body>
</html>